(()=>{var e={};e.id=1198,e.ids=[1198],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4023:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>c,serverHooks:()=>d,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>f});var s={};t.r(s),t.d(s,{POST:()=>u});var a=t(6559),o=t(8088),n=t(7719),i=t(2190);let l=new(t(6330)).PrismaClient;async function u(e){try{let r=await e.json();console.log("Fatura g\xfcncelleme isteği alındı:",r);let{seferId:t,sofor_fatura_ucreti:s}=r;if(!t||void 0===s)return console.error("Eksik parametreler:",{seferId:t,sofor_fatura_ucreti:s}),i.NextResponse.json({error:"Sefer ID ve fatura \xfccreti bilgisi gereklidir"},{status:400});let a=parseInt(t.toString()),o=parseFloat(s.toString());if(console.log("D\xf6n\xfcşt\xfcr\xfclen değerler:",{sefer_id:a,ucret:o}),isNaN(a)||isNaN(o))return console.error("Ge\xe7ersiz sayısal değerler:",{sefer_id:a,ucret:o}),i.NextResponse.json({error:"Ge\xe7ersiz Sefer ID veya fatura \xfccreti bilgisi"},{status:400});console.log(`Sefer ${a} i\xe7in fatura \xfccreti g\xfcncelleniyor: ${o}`);let n=await l.seferler.update({where:{sefer_id:a},data:{sofor_fatura_ucreti:o}});return console.log("G\xfcncelleme başarılı:",n),i.NextResponse.json(n)}catch(e){return console.error("Fatura \xfccreti g\xfcncellenirken hata oluştu:",e),i.NextResponse.json({error:`Fatura \xfccreti g\xfcncellenirken bir hata oluştu: ${e.message}`},{status:500})}finally{await l.$disconnect()}}let c=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/seferler/sofor-fatura-guncelle/route",pathname:"/api/seferler/sofor-fatura-guncelle",filename:"route",bundlePath:"app/api/seferler/sofor-fatura-guncelle/route"},resolvedPagePath:"/Users/yusufmertyavuz/Desktop/nakliyeemm/src/app/api/seferler/sofor-fatura-guncelle/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:f,serverHooks:d}=c;function g(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:f})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6330:e=>{"use strict";e.exports=require("@prisma/client")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,580],()=>t(4023));module.exports=s})();