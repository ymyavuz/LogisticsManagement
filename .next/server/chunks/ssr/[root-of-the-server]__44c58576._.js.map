{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/yusufmertyavuz/Desktop/nakliyeemm/src/app/veritabani-yonetimi/sirketler/ekle/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\nexport default function YeniSirketEkle() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    sirket_adi: '',\n    vergi_numarasi: ''\n  });\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      console.log('Form gönderiliyor:', formData);\n      \n      const response = await fetch('/api/sirketler', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n      console.log('API cevabı:', data);\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Şirket eklenirken bir hata oluştu');\n      }\n\n      setSuccess(true);\n      setFormData({\n        sirket_adi: '',\n        vergi_numarasi: ''\n      });\n      \n      // 2 saniye sonra şirketler listesine yönlendir\n      setTimeout(() => {\n        router.push('/veritabani-yonetimi/sirketler');\n      }, 2000);\n      \n    } catch (err: any) {\n      console.error('Şirket ekleme hatası:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <main className=\"flex min-h-screen flex-col items-center p-12\">\n      <div className=\"w-full max-w-2xl\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-3xl font-bold\">Yeni Şirket Ekle</h1>\n          <Link href=\"/veritabani-yonetimi\" className=\"p-2 border rounded-md hover:bg-gray-100\">\n            Geri Dön\n          </Link>\n        </div>\n\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\">\n            <span className=\"block sm:inline\">{error}</span>\n          </div>\n        )}\n\n        {success && (\n          <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4\">\n            <span className=\"block sm:inline\">Şirket başarıyla eklendi! Yönlendiriliyorsunuz...</span>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"sirket_adi\">\n              Şirket Adı\n            </label>\n            <input\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"sirket_adi\"\n              name=\"sirket_adi\"\n              type=\"text\"\n              placeholder=\"Şirket adını giriniz\"\n              value={formData.sirket_adi}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          \n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"vergi_numarasi\">\n              Vergi Numarası\n            </label>\n            <input\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"vergi_numarasi\"\n              name=\"vergi_numarasi\"\n              type=\"text\"\n              placeholder=\"Vergi numarasını giriniz\"\n              value={formData.vergi_numarasi}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          \n          <div className=\"flex items-center justify-between\">\n            <button\n              className={`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n              type=\"submit\"\n              disabled={loading}\n            >\n              {loading ? 'Kaydediliyor...' : 'Kaydet'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,YAAY;QACZ,gBAAgB;IAClB;IACA,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACF,QAAQ,GAAG,CAAC,sBAAsB;YAElC,MAAM,WAAW,MAAM,MAAM,kBAAkB;gBAC7C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,eAAe;YAE3B,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,WAAW;YACX,YAAY;gBACV,YAAY;gBACZ,gBAAgB;YAClB;YAEA,+CAA+C;YAC/C,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QAEL,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,yBAAyB;YACvC,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAuB,WAAU;sCAA0C;;;;;;;;;;;;gBAKvF,uBACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAmB;;;;;;;;;;;gBAItC,yBACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAkB;;;;;;;;;;;8BAItC,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;oCAA6C,SAAQ;8CAAa;;;;;;8CAGnF,8OAAC;oCACC,WAAU;oCACV,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,aAAY;oCACZ,OAAO,SAAS,UAAU;oCAC1B,UAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;oCAA6C,SAAQ;8CAAiB;;;;;;8CAGvF,8OAAC;oCACC,WAAU;oCACV,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,aAAY;oCACZ,OAAO,SAAS,cAAc;oCAC9B,UAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAW,CAAC,6GAA6G,EAAE,UAAU,kCAAkC,IAAI;gCAC3K,MAAK;gCACL,UAAU;0CAET,UAAU,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7C","debugId":null}}]
}